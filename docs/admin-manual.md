# 管理员操作手册

本项目的管理员能力默认只对 `admin` 账号开放：设置页仅在当前登录用户名为 `admin` 时显示“管理/开发者模式”标签页。

## 进入管理页

1. 使用 `admin` 账号登录
2. 点击右上角设置 → 左侧出现“管理”标签页

## 用户管理

### 用户列表

- 字段：用户名、注册时间、最后登录时间、状态
- 支持：用户名搜索、状态筛选、刷新

### 单行操作

**重置密码**

- 点击“重置密码” → 二次确认 → 可输入新密码（留空则自动生成）
- 重置成功后会返回“新密码（仅显示一次）”，请立即复制并交付给用户
- 重置会让该账号所有已登录设备强制下线（下次请求时清理本地缓存并回到登录页）

**删除账号**

- 点击“删除” → 二次确认
- 删除会清理该用户的：
  - 数据库文档记录（files）
  - 存储配置（storage_configs）
  - 本地上传目录（uploads/images/{userId}、uploads/avatars/{userId}.*）
  - 云端存储（若启用 WebDAV/S3，会尝试删除该用户目录下所有对象）

### 批量操作

- 勾选多行或全选后可执行：
  - 批量启用
  - 批量禁用
  - 批量删除

## 操作审计日志

所有管理操作会记录到审计日志：

- 操作类型（action）
- 操作时间（createdAt）
- 目标账号（targetUserId）
- 附加信息（meta）

在“管理”页底部可查看最近 50 条记录。

